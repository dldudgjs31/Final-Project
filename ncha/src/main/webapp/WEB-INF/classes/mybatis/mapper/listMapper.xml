<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="list">
	
	<select id="dataCountMember" parameterType="map" resultType="Integer">
		SELECT NVL(COUNT(*), 0)
		FROM memberIdx
	</select>
	
	<select id="listMember" parameterType="map" resultType="com.sp.app.member.Member">
		SELECT m.memberIdx, membership, userId, userName, 
		TO_CHAR(birth, 'YYYY-MM-DD') birth, email, tel, zip, addr1
		FROM memberId m
		LEFT OUTER JOIN member m1 ON m.memberIdx = m1.memberIdx
		ORDER BY m.memberIdx ASC
		OFFSET #{offset} ROWS FETCH FIRST #{rows} ROWS ONLY
	</select>
   
	<delete id="deleteMember" parameterType="String">
    	DELETE FROM member WHERE userId=#{userId}
    </delete>
 
	
	
    
</mapper>